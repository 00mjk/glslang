rayQuery-no-cse.rgen
// Module Version 10000
// Generated by (magic number): 80008
// Id's are bound by 109

                              Capability RayQueryProvisionalKHR
                              Capability RayTracingNV
                              Extension  "SPV_KHR_ray_query"
                              Extension  "SPV_NV_ray_tracing"
               1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint RayGenerationKHR 4  "main" 23 28
                              Source GLSL 460
                              SourceExtension  "GL_EXT_ray_query"
                              SourceExtension  "GL_NV_ray_tracing"
                              Name 4  "main"
                              Name 8  "launchIndex("
                              Name 14  "Ray"
                              MemberName 14(Ray) 0  "pos"
                              MemberName 14(Ray) 1  "tmin"
                              MemberName 14(Ray) 2  "dir"
                              MemberName 14(Ray) 3  "tmax"
                              Name 19  "doInitialize(rq1;struct-Ray-vf3-f1-vf3-f11;"
                              Name 17  "rayQuery"
                              Name 18  "ray"
                              Name 23  "gl_LaunchIDNV"
                              Name 28  "gl_LaunchSizeNV"
                              Name 50  "rtas"
                              Name 68  "index"
                              Name 70  "ray"
                              Name 71  "Ray"
                              MemberName 71(Ray) 0  "pos"
                              MemberName 71(Ray) 1  "tmin"
                              MemberName 71(Ray) 2  "dir"
                              MemberName 71(Ray) 3  "tmax"
                              Name 73  "Rays"
                              MemberName 73(Rays) 0  "rays"
                              Name 75  ""
                              Name 88  "rayQuery1"
                              Name 89  "param"
                              Name 91  "param"
                              Name 103  "rayQuery2"
                              Name 104  "param"
                              Name 106  "param"
                              Decorate 23(gl_LaunchIDNV) BuiltIn LaunchIdKHR
                              Decorate 28(gl_LaunchSizeNV) BuiltIn LaunchSizeKHR
                              Decorate 50(rtas) DescriptorSet 0
                              Decorate 50(rtas) Binding 0
                              MemberDecorate 71(Ray) 0 Offset 0
                              MemberDecorate 71(Ray) 1 Offset 12
                              MemberDecorate 71(Ray) 2 Offset 16
                              MemberDecorate 71(Ray) 3 Offset 28
                              Decorate 72 ArrayStride 32
                              MemberDecorate 73(Rays) 0 Offset 0
                              Decorate 73(Rays) BufferBlock
                              Decorate 75 DescriptorSet 0
                              Decorate 75 Binding 2
               2:             TypeVoid
               3:             TypeFunction 2
               6:             TypeInt 32 0
               7:             TypeFunction 6(int)
              10:             TypeRayQueryProvisionalKHR
              11:             TypePointer Function 10
              12:             TypeFloat 32
              13:             TypeVector 12(float) 3
         14(Ray):             TypeStruct 13(fvec3) 12(float) 13(fvec3) 12(float)
              15:             TypePointer Function 14(Ray)
              16:             TypeFunction 2 11(ptr) 15(ptr)
              21:             TypeVector 6(int) 3
              22:             TypePointer Input 21(ivec3)
23(gl_LaunchIDNV):     22(ptr) Variable Input
              24:      6(int) Constant 2
              25:             TypePointer Input 6(int)
28(gl_LaunchSizeNV):     22(ptr) Variable Input
              29:      6(int) Constant 0
              33:      6(int) Constant 1
              48:             TypeAccelerationStructureKHR
              49:             TypePointer UniformConstant 48
        50(rtas):     49(ptr) Variable UniformConstant
              52:             TypeInt 32 1
              53:     52(int) Constant 0
              54:             TypePointer Function 13(fvec3)
              57:     52(int) Constant 1
              58:             TypePointer Function 12(float)
              61:     52(int) Constant 2
              64:     52(int) Constant 3
              67:             TypePointer Function 6(int)
         71(Ray):             TypeStruct 13(fvec3) 12(float) 13(fvec3) 12(float)
              72:             TypeRuntimeArray 71(Ray)
        73(Rays):             TypeStruct 72
              74:             TypePointer Uniform 73(Rays)
              75:     74(ptr) Variable Uniform
              77:             TypePointer Uniform 71(Ray)
         4(main):           2 Function None 3
               5:             Label
       68(index):     67(ptr) Variable Function
         70(ray):     15(ptr) Variable Function
   88(rayQuery1):     11(ptr) Variable Function
       89(param):     11(ptr) Variable Function
       91(param):     15(ptr) Variable Function
  103(rayQuery2):     11(ptr) Variable Function
      104(param):     11(ptr) Variable Function
      106(param):     15(ptr) Variable Function
              69:      6(int) FunctionCall 8(launchIndex()
                              Store 68(index) 69
              76:      6(int) Load 68(index)
              78:     77(ptr) AccessChain 75 53 76
              79:     71(Ray) Load 78
              80:   13(fvec3) CompositeExtract 79 0
              81:     54(ptr) AccessChain 70(ray) 53
                              Store 81 80
              82:   12(float) CompositeExtract 79 1
              83:     58(ptr) AccessChain 70(ray) 57
                              Store 83 82
              84:   13(fvec3) CompositeExtract 79 2
              85:     54(ptr) AccessChain 70(ray) 61
                              Store 85 84
              86:   12(float) CompositeExtract 79 3
              87:     58(ptr) AccessChain 70(ray) 64
                              Store 87 86
              90:          10 Load 88(rayQuery1)
                              Store 89(param) 90
              92:     14(Ray) Load 70(ray)
                              Store 91(param) 92
              93:           2 FunctionCall 19(doInitialize(rq1;struct-Ray-vf3-f1-vf3-f11;) 89(param) 91(param)
              94:          48 Load 50(rtas)
              95:     54(ptr) AccessChain 70(ray) 53
              96:   13(fvec3) Load 95
              97:     58(ptr) AccessChain 70(ray) 57
              98:   12(float) Load 97
              99:     54(ptr) AccessChain 70(ray) 61
             100:   13(fvec3) Load 99
             101:     58(ptr) AccessChain 70(ray) 64
             102:   12(float) Load 101
                              RayQueryInitializeKHR 88(rayQuery1) 94 33 24 96 98 100 102
             105:          10 Load 103(rayQuery2)
                              Store 104(param) 105
             107:     14(Ray) Load 70(ray)
                              Store 106(param) 107
             108:           2 FunctionCall 19(doInitialize(rq1;struct-Ray-vf3-f1-vf3-f11;) 104(param) 106(param)
                              Return
                              FunctionEnd
 8(launchIndex():      6(int) Function None 7
               9:             Label
              26:     25(ptr) AccessChain 23(gl_LaunchIDNV) 24
              27:      6(int) Load 26
              30:     25(ptr) AccessChain 28(gl_LaunchSizeNV) 29
              31:      6(int) Load 30
              32:      6(int) IMul 27 31
              34:     25(ptr) AccessChain 28(gl_LaunchSizeNV) 33
              35:      6(int) Load 34
              36:      6(int) IMul 32 35
              37:     25(ptr) AccessChain 23(gl_LaunchIDNV) 33
              38:      6(int) Load 37
              39:     25(ptr) AccessChain 28(gl_LaunchSizeNV) 29
              40:      6(int) Load 39
              41:      6(int) IMul 38 40
              42:      6(int) IAdd 36 41
              43:     25(ptr) AccessChain 23(gl_LaunchIDNV) 29
              44:      6(int) Load 43
              45:      6(int) IAdd 42 44
                              ReturnValue 45
                              FunctionEnd
19(doInitialize(rq1;struct-Ray-vf3-f1-vf3-f11;):           2 Function None 16
    17(rayQuery):     11(ptr) FunctionParameter
         18(ray):     15(ptr) FunctionParameter
              20:             Label
              51:          48 Load 50(rtas)
              55:     54(ptr) AccessChain 18(ray) 53
              56:   13(fvec3) Load 55
              59:     58(ptr) AccessChain 18(ray) 57
              60:   12(float) Load 59
              62:     54(ptr) AccessChain 18(ray) 61
              63:   13(fvec3) Load 62
              65:     58(ptr) AccessChain 18(ray) 64
              66:   12(float) Load 65
                              RayQueryInitializeKHR 17(rayQuery) 51 29 33 56 60 63 66
                              Return
                              FunctionEnd
